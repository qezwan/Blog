---
layout: post
title: دامەزرادنی خزمەتگوزاری Samba لە لینوکس
tags: [ڕاژە]
date : "2017-01-30 05:35:45"
---

##### پێشەکی

Samba ئامرازێکی بەهێزە کە بە یارمەتی،دەتوانن خزمەتگوزاری هاوبەشکردنی فایل و چاپگەر بۆ کلاینێتەکانی مایکرۆسۆفت واتە ویندۆزی ئەنجام بدەن.هەروا دەتوانن بێجگە لەمە بە جێگای دۆمەین کنترۆلێر لە تۆرەکانی سەر بنەمای Windows Server Domain  سوودی لێببینن.لە وشانی 4ـی ئەم نەرمەکالا پاڵپستی لە Active Directory و دۆمەینەکانی Windows NT پێی زیاد کراوە. لەم فیرکارییە شێوازی کارکردن و هاوبەسکردنی سەرچاوەکان لە سەر خزمەتگوزاری Samba لە سەر کلاینێتەکانی مایکرۆسۆفت و لینوکس فێر دەکەین.

##### دامەزراندن

بۆ دامەزراندنی خزمەتگوزاری Samba فەرمانەکەی خوارەوە بنووسن:

```shell
sudo apt install samba 
```

##### پەیکەرسازی

پاش دامەزراندن دەبێت رێکخستنەکان لەسەر فایلی etc/samba/smb.conf/ بە یارمەتی دەستکاریکەرێکی دەق ئەنجام بدەین.واتە بەمجۆرە :

```shell
sudo gedit /etc/samba/smb.conf  
```

فایلی smb.conf بریتییە لەم بەشانە کە لەسەری دەدوێین :

- [global]: لەم بەشە، کانفیگ یان پەیکەربەندی گشتی ناسراوە.
- [share]: لەم بەشە، هاوبەشیێک دەناسرێت.
- [printers]: لەم بەشە، چاپکەرەکان هاوبەش دەکرێت.
- [homes]: دایریکتۆری homeـی ئەو بەکارهێنەرانە کە هاوبەشکراوەن دەناسرێت.

##### سویچەکان

لە هەر بەشێک پارامێتر یان سویچێک هەیە کە دەتوانێت بۆ وێنە true, false, yes, no وە یان مەسیرێک بێت.
شرۆڤەی بەشێک لەم پارامێترانە یان سویچانە :

- browseable: دابینی دەکات کە ئەو بەشە کە هاوبەشمان کردووە دەتوانێت Browse بێت یان نە.
- comment: دەقێکی شرۆڤە لەسەر هاوبەش یان خزمەتگوزاری نیشاندەدرێت.
- create mask: بۆ مۆڵەتدانەکانی ویندۆز و یونیکس/لینوکس لە کاتی درووستکردنی فایل بەکاردەڕوات. ژمارەی پێشگریمان بریتییە لە 0744 .
- directory mask: بۆ مۆڵەتدانەکانی ویندۆز و یونیکس/لینوکس لە کاتی درووستکردنی بوخچە یان دایرێکتۆری بەکاردەڕوات ژمارەی پێشگریمان بریتییە لە 0744 .
- encrypt passwords: دابینی دەکات لە کاتی Authentication لە نێو کلاینێت و خزمەتگوزارییەکە وشەی نهێنی ببێت یان نە.
- security: دابینی دەکات بەکارهینەران چۆن پەیوەندی بە ڕاژە بگرن و خۆیان بناسێنن. ژمارەی پێشگریمان بریتییە لە user .
- read only: ئیمکانی دەستکاریکردنیفایل لە لایەن بەکارهێنەرەکان دابین دەکات.
  invalid users: ئەو بەکارهینەرانە کە نەناسراوەن بە سیستەم ناتوانن بچنە ژووررەوە.
- workgroup: دابینکراوەی ناوی تۆڕە Workgroup .
- server string: ناوی ڕاژە لە کلاینێت دابین دەکات.
- interfaces: ئەو ناونیشانە کە رییانپێدراوە لە ڕاژە خزمەتگوزاری بگرن دابینی دەکات.
- printable: توانایی ناردنی چاپ بۆ ڕاژە لە لایەن کلاینێت دەدرێت.

##### ناساندنی بەکارهێنەر بە ڕاژە

پێش هاوبەشکردن ،دەبێت بەکارهێنەرەکان بە ڕاژە بناسێنین:

```shell
sudo smbpasswd -L -a USER NAME 
```

USER NAME ناوی بەکارهێنەرە کە گەرەکمانە بیناسێنین بە ڕاژە.
بۆ هاوبەشی بوخچە یان دایرێکتۆری دەبێت بەم جۆرە کردار بکەین :

```shell
[My Share]  
 path = /home/qezwan/my_share  
 browseable = yes  
 read only = yes 
```

لە فەرمانەکەی سەرەوە :دایریکتۆریێک بە ناوی My Share لە مەسیری home/reza/my_share/ وە بە دەستپێگەیشتنی(تەنها خوێندن)مان درووستکردووە.
ئینجا ڕاژە بە فەرمانەکەی خوارەوە هەڵدەگرسێنینەوە واتە ریستارت :

```shell
systemctl restart samba-ad-dc.service 
```

بۆ چاودێری باروودۆخی ڕاژەو ئەو شتانە کە هاوبەشمان کردووە لە فەرمانەکەی خوارەوە سوود دەبینین:

```shell
smbclient -L SERVER 
```

لێرە SERVER دەتوانێت ئای-پی یان ناوی ڕاژە بێت.
`خاڵ:` بۆ سوود گرتن لە ئامرازی smbclient سەرەتا دەبێت لە سەر کلاینێتەکان دامەزرێت.

```shell
sudo apt install smbclient  
```

 

بۆ mountکردنی هاوبەشیێک دەتوانین لە فەرمانی خوارەوە سوود بگرین :

```shell
mount –t cifs //SERVER IP/SHARE /mnt –o username=USER NAME,workgroup=WORKGROUP NAME  
```

لێرە SERVER IP/SHARE// ناونیشانی هاوبەشی ئێمە mnt/ ناونیشانی ئەو شوێنە کەدەبێت ماوونت بێت وە USER NAME ناوی بەکارهێنەر و WORKGROUP NAME یس ناوی گرووپیکارپێکردنی ئێمەیە.
`خاڵ)‌` بۆ ماونت کردنی فایل سیستەمەکانی Samba پێویستان بە ئامرازی cifs-utils هەیە که دەبێت لەسەر سیستەمی کلاینیتەکانی لینوکس دامەزرێت.بۆ دامەزراندنی cifs-utils فەرمانەکەی خوارەوە بنووسن:

```powershell
sudo apt install cifs-utils
```

