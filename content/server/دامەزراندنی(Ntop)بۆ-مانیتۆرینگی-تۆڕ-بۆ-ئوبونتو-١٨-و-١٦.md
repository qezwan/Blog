---
layout: post
title: دامەزراندنی(Ntop)بۆ مانیتۆرینگی تۆڕ بۆ ئوبونتو ١٨ و ١٦
tags: [ڕاژە]
date : "2020-01-08 05:35:45"
---

##### پێشەکی :

“ntopng” بەرەی نوێی “ntop”ـــە ، کە دەتوانرێت بۆ مانیتۆرینگی(چاودێری) قەرەباڵغی تۆڕ بە شێوازی ئاسایشێکی بەهێز سوودی لێ ببینرێت. لە ڕاستیدا “ntopng ” خۆی لە سەر بنەمای “[libpcap](http://www.tcpdump.org/)” ، گەشەی سەندووە. ئەم پرۆگرامە بە شیوازی هەڵگرتن نووسراوە تاکوو لە سەر تەواو سیستەمی کارپێکردن وەک ماک و ویندۆز ئیش بکا، واتە تەواو سیستەمی کارگێڕیەکانی یونیکس بەیس.

گەر شتێک دەربارەی “ntop” نازانن! کێشە نییە، ئامرازێکی سەرچاوەکراوەیە بۆ چاودێری تۆڕ،خۆدی “Ntop” شێوازێکی بەکارهێنەر پەسەند لە سەر وێب نیشان نادا، بەڵام ئێوە دەتوانن لە ڕێگای ترمیناڵ یان هێڵ ئاگاداریێک لە سەر ڕێکخەر،بیرگە،تۆڕ و … بەدەست بێنن.ئەمەش بۆ بەکارهێنەری نوێ کەمێ کێشەیە. بەڵام “ntopng” بە شیوازێکی باش، کار ئاسانی بۆ بەکارهێنەران کردووە کە بە شێوازی بەکارهێنەر پەسەند و لە ڕێگای وێب ئاگادار و چاودێری تۆڕ و ڕەقەکالای ڕاژە ببن.

“ntopng” بە سێ وشان بڵاو دەکرێتەوە وشانی گشتی(بێ پارەیە)، وشانی پێشکەوتوو(بۆ کار و پیشەی بازرگانی بچکۆلە) وە وشانی کۆمپانیا.وشانی گشتی بە شێوازی سەرچاوەکراوە بڵاو دەبێت(دەتوانن لە [گیتهاب](https://github.com/ntop/ntopng) دایبگرن و گەشەی پێبدەن).

##### تایبەتمەندییە بەرچاوکراوەکانی “ntopng” :

1. ڕیزبەندی قەرەباڵغی تۆڕ بە پێوەری جیاواز وەک: ئای-پی، دەرگا، پۆرۆتۆکۆلی L7، تەوانی کرداری، سیستەمی سەربەخۆ(ASs).
2. پیشاندانی کاتی ڕاستەقینەی قەرەباڵغی تۆڕ و ڕاژە چالاکەکان.
3. درووستکردنی درێژخایەن بۆ گوزارشی ترافیکی ڕاژە بە پێوەری جورواجۆر.
4. چالاکییەکان(نێرەر و وەرگر )، سیستەمەکانی سەر بەخۆ (ASs)، نەرمەکالاکانی L7 .
5. چاودێری و گوزارشی زیندوو یان ئانی بە کردار، درەنگی کرداری تۆر و بەرنامەکان لە کاتی ناردن و وەرگرتن (RTT)، ئاماری TCP(پاکەتی بزر بوو لە تۆڕ،دووبارە ناردن و وەرگرتن،پاکەتەکانی دەرەوە لە داوا) و بایت و پاکەتەکانی ناردراو.
6. پیشاندانی ئامری ڕاستەقینەو مردوو لە تۆڕ.
7. نیشاندنای شوێنی ترافیک لە نەخشە بە شێوازی جیاواز.
8. بە یارمەتی تەکنۆلۆژی ntop Deep Packet Inspection (DPI) پرۆتۆکۆڵی بەرنامەکانی پەیدا دەکا وەک فەیسبووک،یوتیوب،بیت تۆرێنت و…هتد.
9. …

 

##### قۆناغەکانی دامەزراندن

١) دامەزراندنی ntopng (ntop) لە کانگا :

“ntopng” بە شیوازی کانگا بڵاو بووە ئەوەش مانای وایە کە دەتوانرێت زۆر بە ئاسانی لە سەر ڕاژەی ئوبونتو دایمەزرێنین بە فەرمانەکانی خوارەوە :

```shell
cd /tmp
wget http://apt.ntop.org/18.04/all/apt-ntop.deb
sudo dpkg -i apt-ntop.deb
```

پاش دامەزراندنی لە کانگا بە فەرمانەکانی سەرەوە ،ئێوە دەتوانن بە فەرمانی خوارەوە لە سەر سیستەمەکەتان دایمەزرێنن

```shell
sudo apt update
sudo apt install pfring-dkms nprobe ntopng n2disk cento
```

پاش دامەزراندنی بە فەرمانەکەی سەرەوە ،ئێستا کاتی ئەوە هاتووە کە پەیکەرسازی پەڕگەی “ntopng” دەستپێبکەین،ئەم فایلە لە ئەم شوێنەیە :

/etc/ntopng/ntopng.conf:

```shell
sudo nano /etc/ntopng/ntopng.conf
```

لەم فایلە دەبێ دەرگا یان پۆرت بگۆڕین واتە ئەو هێڵە کە قەڵەومان کردووە. واتە : 3000#

```shell
#
-G=/var/run/ntopng.pid
#
#       -e|--daemon
#        This  parameter  causes ntop to become a daemon, i.e. a task which runs in the background
..........................
# -e=
#
#       -i|--interface
#        Specifies  the  network  interface or collector endpoint to be used by ntopng for network
.............................
#
# -i=eth1
# -i=eth2
#
#       -w|--http-port
#        Sets the HTTP port of the embedded web server.
#
 -w=3000
#
```

پاش پاشکەوت کردن و هاتنەوە دەروە لە فایلی پەیکەرسازی سەرەوە ،بە فەرمانەکەی خوارەو برۆن بۆ دەستکاری کردن و دابین کردنی تۆڕی خۆماڵێ بۆ مانیتۆڕینگ یان چاودێری.

```shell
sudo nano /etc/ntopng/ntopng.start
```

هێڵەکانی خوارە زیاد بکەن بە بەراوەرد لەگڵ تۆڕەکەتان :

```shell
--local-networks "10.0.2.6/24"
--interface 1
```

ئێستا پاشکەوتی بکەن و بێنە دەرەوە لە فایلەکەی سەرەوە.دەی! چالاک و دەست بەئیش بکەن بە فەرمانەکانی خوارەوە :

```
sudo systemctl start ntopng
sudo systemctl enable ntopng
```

###### ٢) چوونەژوورەوە لە سەر ڕووکاری وێب

بۆ چوونەژوورەوە بە دەرگای ڕاژەی خۆماڵی واتە (http://localhost:3000) کردار بکەن لە ناونیشانباری وێبگەڕ.
ئێستا ئێوە پەڕەی چوونەژوورەوەی ntopng دەبینن :

![](/server/images/19.jpg)

ئێستا ناویبەکارهێنەر و وشەینهێنی پێشگریمان بەم جۆرە دەبن :

```html
Username: admin
Password: admin
```

پاش چوونەژوور دەبێ ڕێکخستنی تایبەت بە خۆتان لە بەشی بەڕێوەبەر دەستپێبکەن.ئەمەس بەشێک لە وێنەکان و تایبەتمەندییەکانی.

![](/server/images/19-1.png)

![](/server/images/19-2.png)

![](/server/images/19-3.png)





سەرچاوە : [ntop](https://www.ntop.org/products/traffic-analysis/ntop/) 